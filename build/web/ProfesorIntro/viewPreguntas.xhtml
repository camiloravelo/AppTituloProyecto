<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>OA-Education</title> 
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <link href="/AppTitulo2/resources/css/bootstrap-theme.css" rel="stylesheet" type="text/css"/>
        <link href="/AppTitulo2/resources/css/bootstrap.css" rel="stylesheet" type="text/css"/>
        <link href="/AppTitulo2/resources/css/docs.min.css" rel="stylesheet" type="text/css"/>
    </h:head>
    <h:body>


        <div class="container-fluid">

           <div class="row" style="background-color: #F5F5F5;padding: 20px;">
                <div class="col-md-3">
                    <img src="/AppTitulo2/resources/imagen/logo_uv.png" alt=""/>
                </div>

                <div class="span6 pull-right">
                    <div class="hidden-xs"><img src="/AppTitulo2/resources/imagen/header_decom.png" alt=""/></div>
                </div>
            </div>


            <div class="row" style="margin: 10px;">
                <div class="col-md-3">
                    <div class="list-group">
                        <h:link value="Gestionar Recursos" class="list-group-item" outcome="./gestionarRecursos.xhtml" />
                        <h:link value="Gestionar Estudiantes" class="list-group-item" outcome="./gestionarEstudiantes.xhtml" />
                        <h:link value="Gestionar Evaluaciones" class="list-group-item active" outcome="./setEvaluacion.xhtml?idTopico=0" />

                        <h:link value="Ver Perfil" class="list-group-item" outcome="./perfil.xhtml" >
                            <f:param name="username" value="#{login.nombre}" />  
                        </h:link> 
                    </div>
                    <h:form>
                        <h:commandButton id="salir" class="btn btn-default" value="Salir" action="#{login.logout()}" />
                    </h:form>
                </div>

                <div class="col-md-9">

                    <div class="page-header">
                        <h2>Gestión de Evaluaciones <small><br/>
                                Se muestran las preguntas del tópico </small></h2>
                    </div>
                    <p:tooltip />
                    <p:messages id="messages" showDetail="true" autoUpdate="true" closable="true" />


                    <h:form>
                        <h:commandButton id="submit" class="btn btn-default" value="Añadir Pregunta" action="#{evaluacionCrear.irFormulario()}" />
                    </h:form>

                    <h:form> 
                        <p:dataTable var="p" value="#{evaluacionCrear.preguntas}" emptyMessage="No hay preguntas" id="growl" >  

                            <p:column headerText="Preguntas"> 
                                <strong>  <h:outputText value="#{p.enunciado}" escape="false" />  </strong>
                                <p class="#{p.Buenacolor(1)}" style="#{p.Buena(1)}">a) <h:outputText value="#{p.alt1}" escape="false"/> </p>   
                                <p class="#{p.Buenacolor(2)}" style="#{p.Buena(2)}">b) <h:outputText value="#{p.alt2}" escape="false" /> </p>
                                <p class="#{p.Buenacolor(3)}" style="#{p.Buena(3)}">c) <h:outputText value="#{p.alt3}" escape="false" /> </p>
                                <p class="#{p.Buenacolor(4)}" style="#{p.Buena(4)}">d) <h:outputText value="#{p.alt4}" escape="false" /> </p>  
                                <p>Solucion: <h:outputText value="#{p.solucion}" escape="false"/> </p>
                                <p class="text-right">

                                    <p:commandButton value="Editar" action="#{evaluacionCrear.editar(p.id)}"></p:commandButton>

                                    <p:commandButton value="Eliminar"  action="#{evaluacionCrear.eliminar(p.id)}" update="growl">
                                        <p:confirm header="Confirmación"  message="¿Está seguro de eliminar?" icon="ui-icon-alert" />
                                    </p:commandButton>

                                    <p:confirmDialog global="true" showEffect="fade" >
                                        <p:commandButton value="Si" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
                                        <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
                                    </p:confirmDialog>
                                </p>
                            </p:column> 
                        </p:dataTable> 
                    </h:form> 
                </div>
            </div>
        </div>

    </h:body>
</html>



